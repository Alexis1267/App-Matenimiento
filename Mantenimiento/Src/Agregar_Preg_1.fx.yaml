Agregar_Preg_1 As screen:
    Fill: =RGBA(21, 44, 115, 1)
    OnVisible: |-
        =/*//IMG1
        Set(ImgName1,Concatenate("AyudaVisual_1-"&BtnLocalizacion&"-"&Dropdown2.SelectedText.Value&"-"&Dropdown3.SelectedText.Value&"_1",Now(),".jpg"));
        
            // Get file1 binary data and convert it to base64
            Set(attachmentImgValue1, JSON(UploadedImage1.Image, JSONFormat.IncludeBinaryData));
        
            Set(attachmentImg1Base64Only, Mid(attachmentImgValue1, Find(",", attachmentImgValue1)+1, Len(attachmentImgValue1) - Find(",", attachmentImgValue1)-1 ));
        
            // Upload file1 and get url
        //Set(IMG1,Flow_Imagenes_Actividades.Run(ImgName1,attachmentImg1Base64Only).sharepointfilelink);
        
        
        ////////////////////////////////////////////////////////////
        //IMG2
        Set(ImgName2,Concatenate("AyudaVisual_2-"&BtnLocalizacion&"-"&Dropdown2.SelectedText.Value&"-"&Dropdown3.SelectedText.Value&"_1",Now(),".jpg"));
        
            // Get file1 binary data and convert it to base64
            Set(attachmentImg2Value1, JSON(UploadedImage2.Image, JSONFormat.IncludeBinaryData));
        
            Set(attachmentImg2Base64Only, Mid(attachmentImg2Value1, Find(",", attachmentImg2Value1)+1, Len(attachmentImg2Value1) - Find(",", attachmentImg2Value1)-1 ));
        
            // Upload file1 and get url
        //Set(IMG2,Flow_Imagenes_Actividades.Run(ImgName2,attachmentImg2Base64Only).sharepointfilelink);
        
        ////////////////////////////////////////////////////////////
        //IMG3
        Set(ImgName3,Concatenate("AyudaVisual_3-"&BtnLocalizacion&"-"&Dropdown2.SelectedText.Value&"-"&Dropdown3.SelectedText.Value&"_1",Now(),".jpg"));
        
            // Get file1 binary data and convert it to base64
            Set(attachmentImg3Value1, JSON(UploadedImage3.Image, JSONFormat.IncludeBinaryData));
        
            Set(attachmentImg3Base64Only, Mid(attachmentImg3Value1, Find(",", attachmentImg3Value1)+1, Len(attachmentImg3Value1) - Find(",", attachmentImg3Value1)-1 ));
        
            // Upload file1 and get url
        //Set(IMG3,Flow_Imagenes_Actividades.Run(ImgName3,attachmentImg3Base64Only).sharepointfilelink);
        
        ///////////////////////////////////////////////////////////
        //IMG4
        Set(ImgName4,Concatenate("AyudaVisual_4-"&BtnLocalizacion&"-"&Dropdown2.SelectedText.Value&"-"&Dropdown3.SelectedText.Value&"_1",Now(),".jpg"));
        
            // Get file1 binary data and convert it to base64
            Set(attachmentImg4Value1, JSON(UploadedImage4.Image, JSONFormat.IncludeBinaryData));
        
            Set(attachmentImg4Base64Only, Mid(attachmentImg4Value1, Find(",", attachmentImg4Value1)+1, Len(attachmentImg4Value1) - Find(",", attachmentImg4Value1)-1 ));
        
            // Upload file1 and get url
        //Set(IMG4,Flow_Imagenes_Actividades.Run(ImgName4,attachmentImg4Base64Only).sharepointfilelink);
        
        ///////////////////////////////////////////////////////////
        //IMG5
        Set(ImgName5,Concatenate("AyudaVisual_5-"&BtnLocalizacion&"-"&Dropdown2.SelectedText.Value&"-"&Dropdown3.SelectedText.Value&"_1",Now(),".jpg"));
        
            // Get file1 binary data and convert it to base64
            Set(attachmentImg5Value1, JSON(UploadedImage5.Image, JSONFormat.IncludeBinaryData));
        
            Set(attachmentImg5Base64Only, Mid(attachmentImg5Value1, Find(",", attachmentImg5Value1)+1, Len(attachmentImg5Value1) - Find(",", attachmentImg5Value1)-1 ));
        
            // Upload file1 and get url
        //Set(IMG5,Flow_Imagenes_Actividades.Run(ImgName5,attachmentImg5Base64Only).sharepointfilelink);*/

    Titulo_17 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(237, 237, 237, 1)
        Height: =80
        RadiusBottomLeft: =30
        RadiusBottomRight: =30
        RadiusTopLeft: =30
        RadiusTopRight: =30
        Width: =1330
        X: =20
        Y: =18
        ZIndex: =1

        Label3_9 As label:
            Align: =Align.Center
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            Height: =80
            Size: =30
            Text: ="MODIFICAR ACTIVIDAD"
            Width: =1329
            ZIndex: =1

        Image2_5 As image:
            Height: =80
            Image: =carrier_logo_300
            Width: =158
            X: =1161
            ZIndex: =2

    Container1_47 As groupContainer.manualLayoutContainer:
        Height: =768
        PaddingRight: =0.00
        PaddingTop: =0.00
        Visible: =ShowPopUp
        Width: =1366
        X: =0.00
        Y: |
            =0
        ZIndex: =5

        HtmlText3_61 As htmlViewer:
            Height: =768
            HtmlText: |-
                ="<div style=""
                position: absolute;
                  text-align: center;
                  color: #fff;
                  box-shadow: 0px 0px 25px #222;
                  backdrop-filter: blur(10px);
                height:"& 1080 &"px;
                width:"& 1920 &"px;""></div>"
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0.00
            PaddingTop: =0.00
            Size: =14.04
            Visible: =ShowPopUp
            Width: =1366
            ZIndex: =1

        Container2_47 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(227, 234, 243, 1)
            Height: =595
            PaddingRight: =0.00
            PaddingTop: =0.00
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            Width: =1272.89
            X: =56
            Y: =112
            ZIndex: =2

            Rectangle3_49 As rectangle:
                Fill: =RGBA(21, 44, 115, 1)
                Height: =65
                Width: =1272.89
                X: =0.00
                ZIndex: =4

            Button7_59 As button:
                BorderStyle: =BorderStyle.None
                DisplayMode: |
                    =//Validacion de boton de que debe cumplir y escribir en justificacion
                    If(IsBlank(TextInput1_247.Text) || IsBlank(Dropdown4_48.Selected.Value) ,DisplayMode.Disabled,DisplayMode.Edit) //Lo que dice este codigo es de que si el input text de la justificacion esta en blanco, que el boton sea disable y si tiene algo escrito, que se active el boton para seguir con la accion
                    
                    
                    //BOTONES
                Fill: =RGBA(97, 181, 73, 1)
                FontWeight: =FontWeight.Bold
                OnSelect: |+
                    =
                    // Set file1 name
                        Set(fileName1, Concatenate(TextInput1_244.Text &"_1",Now(),".jpg"));
                    
                     
                    
                        // Get file1 binary data and convert it to base64
                        Set(attachmentValue1, JSON(UploadedImage7_47.Image, JSONFormat.IncludeBinaryData));
                        Set(attachment1Base64Only, Mid(attachmentValue1, Find(",", attachmentValue1)+1, Len(attachmentValue1) - Find(",", attachmentValue1)-1 ));
                    
                     
                    
                        // Upload file1 and get url
                        //Set(attachment1Link,Flujo_ImagenesMP.Run(fileName1,attachment1Base64Only).sharepointfilelink);
                    
                    Set(attachment1Link,Flujo_ImagenesMP.Run(fileName1,attachment1Base64Only).sharepointfilelink);
                    
                    
                    
                    
                    
                    
                    
                    //INGRESAR DATOS A LA TABLA HALLAZGOS
                    
                    Patch(CMXE_TablaH_MP,Defaults(CMXE_TablaH_MP),
                    {
                    Asignado: Dropdown4_48.Selected.Value,
                    Localizacion: TextInput1_243.Text,
                    Proc_No: TextInput1_244.Text,
                    Nom_Maquina:TextInput1_245.Text,
                    Clas_Mantenimiento: TextInput1_246.Text,
                    Fecha_Inicio: Now(),
                    Justificacion: TextInput1_247.Text,
                    Imagenes: attachment1Link,
                    Actividad: ACT_46.Text,
                    Estatus: "Abierto"
                    });
                    
                    Notify("El reporte se ha enviado con éxito.", NotificationType.Success);
                    
                    
                    //Deshabilitar botonHallazgo
                    UpdateContext({BotonHallazgo: true});
                    
                    UpdateContext({ShowPopUp: false}); //En este boton lo que debera de ser es enviar los datos que traje y cerrar el ModalPopUp
                    Reset(TextInput1_247);
                    Reset(AddMediaButton6_47);
                    
                    //BOTONES
                    
                    
                    
                    
                    
                    
                PaddingRight: =6.37
                PaddingTop: =6.37
                Size: =19.14
                Text: ="Enviar"
                Width: =204.07
                X: =534.40
                Y: =538
                ZIndex: =5

            Icon4_48 As icon.Cancel:
                Color: =RGBA(255, 255, 255, 1)
                Height: =65
                Icon: =Icon.Cancel
                OnSelect: |+
                    =UpdateContext({ShowPopUp: false});
                    Reset(TextInput1_247);
                    Reset(AddMediaButton6_47);
                    Reset(Dropdown4_48);
                    
                    
                    
                    
                    
                    
                    
                PaddingRight: =0.00
                PaddingTop: =0.00
                Width: =81.63
                X: =1191.25
                ZIndex: =6

            Image4_48 As image:
                Height: =65
                Image: =carrier_logo_300
                PaddingRight: =0.00
                PaddingTop: =0.00
                Width: =150.49
                X: =25.51
                ZIndex: =7

            Label9_481 As label:
                Color: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Bold
                Height: =65
                PaddingRight: =6.37
                PaddingTop: =6.37
                Size: =35
                Text: ="Reporte de hallazgo"
                Width: =531.85
                X: =369.88
                ZIndex: =8

            Group13_51 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                Label9_482 As label:
                    FontWeight: =FontWeight.Bold
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="Localización:"
                    Width: =233.41
                    X: =25.51
                    Y: =65
                    ZIndex: =10

                TextInput1_243 As text:
                    Default: =Dato_Localizacion
                    DisplayMode: =DisplayMode.View
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Width: =311.19
                    X: =25.51
                    Y: =105
                    ZIndex: =11

            Group12_48 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                Label9_483 As label:
                    FontWeight: =FontWeight.Bold
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="Nombre del activo:"
                    Width: =278.06
                    X: =404.31
                    Y: =65
                    ZIndex: =12

                TextInput1_244 As text:
                    Default: =Dato_Proc_No
                    DisplayMode: =DisplayMode.View
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Width: =369.88
                    X: =404.31
                    Y: =105
                    ZIndex: =13

            Group10_47 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                Label9_485 As label:
                    FontWeight: =FontWeight.Bold
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="Nombre de la maquina:"
                    Width: =295.91
                    X: =25.51
                    Y: =155
                    ZIndex: =14

                TextInput1_245 As text:
                    Default: =Dato_NomMaquina
                    DisplayMode: =DisplayMode.View
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Width: =470.62
                    X: =25.51
                    Y: =195
                    ZIndex: =15

            Group11_47 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                Label9_486 As label:
                    FontWeight: =FontWeight.Bold
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="Clase de mantenimiento:"
                    Width: =318.86
                    X: =580.33
                    Y: =155
                    ZIndex: =16

                TextInput1_246 As text:
                    Default: =Dato_ClassMtto
                    DisplayMode: =DisplayMode.View
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Width: =438.75
                    X: =580.33
                    Y: =195
                    ZIndex: =17

            Group14_47 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                ACT_46 As text:
                    Default: =ActividadMP
                    DisplayMode: =DisplayMode.View
                    Height: =68
                    Mode: =TextMode.MultiLine
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Width: =1200.18
                    X: =25.51
                    Y: =283
                    ZIndex: =9

                Label9_487 As label:
                    FontWeight: =FontWeight.Bold
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="Actividad:"
                    Width: =191.32
                    X: =25.51
                    Y: =243
                    ZIndex: =18

            Group15_47 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                Label9_488 As label:
                    FontWeight: =FontWeight.Bold
                    Height: =48
                    PaddingRight: =6.37
                    PaddingTop: =6.37
                    Size: =16.58
                    Text: |-
                        ="*Justificación:"
                    Width: =443.84
                    X: =20
                    Y: =351
                    ZIndex: =2

                TextInput1_247 As text:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Clear: =true
                    Default: =
                    Height: =120
                    HintText: ="Agregue una justificación"
                    Mode: =TextMode.MultiLine
                    PaddingRight: =6.59
                    PaddingTop: =6.59
                    Reset: =true
                    Size: =17.13
                    Width: =632.62
                    X: =21
                    Y: =399
                    ZIndex: =3

            AddMediaWithImage6_47 As group:
                Height: =5
                Width: =5
                X: =40
                Y: =40
                ZIndex: =19

                UploadedImage7_47 As image:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    Height: =139
                    Image: =If(IsBlank(AddMediaButton6_47.Media), SampleImage, AddMediaButton6_47.Media)
                    PaddingRight: =0.00
                    PaddingTop: =0.00
                    Width: =239.78
                    X: =988.47
                    Y: =380
                    ZIndex: =19

                AddMediaButton6_47 As addMedia:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    ChangePictureText: ="Cambiar fotografia"
                    Height: =64
                    Size: =19.77
                    Text: ="Adjuntar evidencia"
                    Width: =247.77
                    X: =711
                    Y: =417
                    ZIndex: =20

            Label9_484 As label:
                FontWeight: =FontWeight.Bold
                PaddingRight: =6.37
                PaddingTop: =6.37
                Size: =16.58
                Text: |-
                    ="Persona que reporta hallazgo:"
                Width: =369.88
                X: =858.36
                Y: =65
                ZIndex: =21

            Dropdown4_48 As dropdown:
                BorderColor: =RGBA(0, 40, 85, 1)
                BorderThickness: =1
                ChevronBackground: =RGBA(21, 44, 115, 1)
                Default: =
                Items: |+
                    = 
                     //Split(Concat(Gallery2.AllItems, "" & Title2 & Char(10)), Char(10) & Char(10) & Label12_15.Text)
                     //Split(Label12_15.Text, Char(10))
                    
                    Filter(Split(Label12_15.Text, Char(10)), !IsBlank(Value))
                    
                    
                     
                    
                    //Concatenate(DropdownAsig,DropdownInvolu)
                    
                    //Split(Concat(Gallery2.AllItems , "" & Title2 & Char(10)),Concat(AsignadoOp,"" & NombreOp & Char(10), Char(10)))
                    
                     //Split(Concat(Gallery2.AllItems, "" & Title2 & Char(10)&Operador), Char(10))
                    
                    //Concatenate(Split(Concat(Gallery2.AllItems, "" & Title2 & Char(10)), Char(10)))
                    
                    /*Split(
                        Concatenate(
                            Text(Title2, "[$-en-US]0") &Char(10) & Text(Operador, "[$-en-US]0") & Char(10)
                        ),
                        Char(10)
                    )*/
                    
                    
                    
                    
                    
                    
                PaddingRight: =12.76
                PaddingTop: =12.76
                Size: =16.58
                Width: =367.32
                X: =858.36
                Y: =105
                ZIndex: =22

    Titulo_18 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =631
        RadiusBottomLeft: =30
        RadiusBottomRight: =30
        RadiusTopLeft: =30
        RadiusTopRight: =30
        Width: =1330
        X: =20
        Y: =117
        ZIndex: =6

    Icon1_7 As icon.BackArrow:
        DisplayMode: =
        Height: =75
        Icon: =Icon.BackArrow
        OnSelect: |
            =Navigate(Elegir,ScreenTransition.Fade);
        Width: =82
        X: =20
        Y: =20
        ZIndex: =8

    Container2_1 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(21, 44, 115, 1)
        Height: =768
        Visible: =BtnVisualizarAct
        Width: =1366
        ZIndex: =9

        Titulo_14 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(237, 237, 237, 1)
            Height: =80
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            Width: =1330
            X: =21
            Y: =18
            ZIndex: =1

            Label3_7 As label:
                Align: =Align.Center
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Bold
                Height: =80
                Size: =30
                Text: ="ACTIVIDADES CARGADAS"
                Width: =1157
                ZIndex: =1

            Icon12_3 As icon.Cancel:
                Color: =RGBA(255, 0, 0, 1)
                Height: =80
                Icon: =Icon.Cancel
                OnSelect: |-
                    =UpdateContext({BtnVisualizarAct:false})
                Width: =82
                X: =1247
                ZIndex: =2

            Titulo_15 As groupContainer.manualLayoutContainer:
                Fill: =RGBA(237, 237, 237, 1)
                Height: =80
                RadiusBottomLeft: =30
                RadiusBottomRight: =30
                RadiusTopLeft: =30
                RadiusTopRight: =30
                Width: =1330
                ZIndex: =3

                Label3_8 As label:
                    Align: =Align.Center
                    DisplayMode: =DisplayMode.View
                    Fill: =RGBA(255, 255, 255, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =80
                    Size: =30
                    Text: ="ACTIVIDADES CARGADAS"
                    Width: =1330
                    ZIndex: =1

                Icon12_2 As icon.Cancel:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =80
                    Icon: =Icon.Cancel
                    OnSelect: |-
                        =UpdateContext({BtnVisualizarAct:false})
                    Width: =82
                    X: =1247
                    ZIndex: =2

        Titulo_16 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =56
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =1330
            X: =19
            Y: =118
            ZIndex: =3

            Label24_2 As label:
                FontWeight: =FontWeight.Bold
                Height: =56
                Text: |-
                    ="Activo_No:"
                Width: =102
                X: =119
                ZIndex: =1

            Label24_3 As label:
                FontWeight: =FontWeight.Bold
                Height: =56
                Text: |-
                    ="Tipo de MTTO:"
                Width: =142
                X: =461
                ZIndex: =3

            Icon13_2 As icon.Reload:
                Height: =48
                Icon: =Icon.Reload
                OnSelect: =Refresh(PreventivSure_PreguntasMP)
                Width: =61
                Y: =4
                ZIndex: =5

